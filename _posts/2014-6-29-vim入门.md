---
layout: post
title: 'vim入门'
category: 教程
tags: 教程
---


#第一讲
##移动光标
按Esc进入正常模式
在正常模式下，按`h`向左移动；`l`向右移动，`j`跳到下一行(记忆：j像一个向下的箭头)，`k`跳到上一行   
##进入和退出
正常模式下，输入<pre><code>:q!</code></pre>按回车就会退出编辑器并且不会保存任何改动  

输入<pre><code>:wq</code></pre>按回车就会保存更改再退出编辑器  

正常模式下，按下`X`键可以删除光标所在位置的字符  

正常模式下，可以按下`i`键来插入文本(当光标在最后一个字符时，按`i`键是对倒数第一个的前面一个进行插入，如果要在最后插入还需在编辑模式下向右移动一个下面会讲到`a`命令可以在后面插入)  
#第二讲  
##删除命令  
输入`dw`可以从光标删除至一个单词/单词的末尾(如果要删除一个完整的单词，将光标移动到该单词的开头，然后按dw即可删除完整的单词。)  

输入`d$`从当前光标删除到行末   

删除命令`d`的格式如下  
[number] d object 或者 d [number] object  
其意如下∶
number - 代表执行命令的次数(可选项，缺省设置为 1 )。  
d - 代表删除。
object - 代表命令所要操作的对象(下面有相关介绍)。

一个简短的对象列表∶
w - 从当前光标当前位置直到单字/单词末尾，**包括**空格。
e - 从当前光标当前位置直到单字/单词末尾，但是 **不** 包括空格。
$ - 从当前光标当前位置直到当前行末。

输入`dd`可以删除整一个当前行(鉴于整行删除的高频度，VIM 的设计者决定要简化整行删除，仅需要在同一行上
击打两次 d 就可以删除掉光标所在的整行了)   


##撤销命令
输入`u`来撤销最后执行的命令，输入`U`来修正整行.(一个大写的 `U` ，恢复到该行的原始状态。即撤销在一行中所作的改动)
`CTRL+R`撤销掉撤销命令  

#第三讲
##置入类命令
输入`p`将最后一次删除的内容置入光标之后<pre><code>
输入 dd 将该行删除，这样会将该行保存到vim的缓冲区中。
接着将光标移动到准备置入的位置的上方。记住∶是上方哦。
然后在正常模式下(<ESC>键进入)，输入 p 将该行粘贴置入。
</code></pre>  

##替换命令
输入`r`和一个字符替换光标所在位置的字符  

##更改类命令
要改变一个单字/单词的部分或者全部，请输入cw就可以修正该单词了

更改类指令可以使用同删除类命令所使用的对象参数
更改类指令的工作方式跟删除类命令是一致的。操作格式是∶
`[number] c object 或者 c[number] object`
对象参数也是一样的，比如 w 代表单字/单词，$代表行末等等。(和`d`的区别就是`d`是删除，`c`是编辑,在删除的同时变得可编辑，参数和`d`一样的)

#第四讲
##定位及文件状态
输入CTRL+g显示当前编辑文件中当前光标所在行位置以及文件状态信息。输入SHIFT+G则直接跳转到文件中的某一指定行。  

按下 CTRL 键不放开然后按 g 键。然后就会看到页面最底部出现一个状态信
息行，显示的内容是当前编辑的文件名和文件的总行数。请记住步骤3的行号。
按下 SHIFT-G 键可以使得当前光标直接跳转到文件最后一行。
**输入您曾停留的行号，然后按下 SHIFT-G**。这样就可以返回到您第一次按下
CTRL-g 时所在的行好了。注意∶*输入行号时，行号是不会在屏幕上显示出来
的*。


##搜索类命令
输入/以及尾随的字符串可以用以在当前文件中查找该字符串  

 在正常模式下输入 / 字符。您此时会注意到该字符和光标都会出现在屏幕底
部，这跟 : 命令是一样的。然后回车
要查找同上一次的字符串，只需要按 n 键。要向相反方向查找同上一次的字
符串，请输入 Shift-N 即可。

如果您想逆向(文末)查找字符串，请使用 ? 代替 / 进行。

##配对括号的查找
按`%`可以查找配对的括号`)、] 、}`
1. 把光标放在 (、[ 或 { 处。
2. 接着按 % 字符。
3. 此时光标的位置应当是在配对的括号处。
4. 再次按 % 就可以跳回配对的第一个括号处。  

##修正错误的方法之一
输入`:s/old/new/g`然后回车可以替换old为new

输入 `:s/thee/the` <回车> 。请注意该命令只改变光标所在行的第一个匹配
串。

输入` :s/thee/the/g` 则是替换全行的匹配串。

要替换两行之间出现的每个匹配串，请输入 `:行号,行号s/old/new/g` (#,#代表的是两行的行号)。输入 `:%s/old/new/g` 则是替换整个文件中的每个匹配串。

`%s/old/new/gc` 进行全文替换时询问用户确认每个替换需添加 c 选项

#第五讲
##在VIM内执行外部命令的方法
输入 `:!` 然后紧随著输入一个外部命令可以执行该外部命令
1. 按下我们所熟悉的 : 命令设置光标到屏幕底部。这样就可以让您输入命令了。
2. 接着输入感叹号 ! 这个字符，这样就允许您执行外部的 shell 命令了。
3. 我们以 ls (_Linux下是ls,windows下是dir_)命令为例。输入 !ls <回车> 。该命令就会列举出您当前目录的
内容，就如同您在命令行提示符下输入 ls 命令的结果一样。如果 !ls 没起
作用，您可以试试 :!dir 看看。
**所有的外部命令都可以以这种方式执行。**
**提示∶ 所有的 : 命令都必须以 <回车> 告终。**

##关于保存文件的更多信息
**要将对文件的改动保存到文件中，请输入 :w FILENAME**

1. 输入 :!dir 或者 :!ls 获知当前目录的内容。您应当已知道最后还得敲
<回车> 吧。

2. 选择一个尚未存在文件名，比如 TEST 。

3. 接着输入 :w TEST (此处 TEST 是您所选择的文件名。)

4. 该命令会以 TEST 为文件名保存整个文件 (VIM 教程)。为了确保正确保存，
请再次输入 :!dir 查看您的目录列表内容。

 请注意∶如果您退出 VIM 然后在以文件名 TEST 为参数进入，那么该文件内
容应该同您保存时的文件内容是完全一样的。

5. 现在您可以通过输入 :!rm TEST 来删除 TEST 文件了。

##一个具有选择性的保存命令
要保存文件的部分内容，请输入 :#,# w FILENAME

1. 再来执行一次 :!dir 或者 :!ls 获知当前目录的内容，然后选择一个合适的
不重名的文件名，比如 TEST 。

2. 接着将光标移动至本页的最顶端，然后按 CTRL-g 找到该行的行号。别忘了
行号哦。

3. 接着把光标移动至本页的最底端，再按一次 CTRL-g 。也别忘了这个行好哦。

4. 为了只保存文章的某个部分，请输入 :#,# w TEST 。这里的 #,# 就是上面
要求您记住的行号(顶端行号,底端行号)，而 TEST 就是选定的文件名。

5. 最后，用 :!dir 确认文件是否正确保存。但是这次先别删除掉。

##提取和合并文件

** 要向当前文件中插入另外的文件的内容，请输入 :r FILENAME **

1. 请键入 :!dir 确认您前面创建的 TEST 文件还在。

2. 然后将光标移动至当前页面的顶端。

特别提示∶ 执行步骤3之后您将看到第五讲第三节，请届时再往下移动回到这里来。

3. 接着通过 :r TEST 将前面创建的名为 TEST 的文件提取进来。

特别提示∶您所提取进来的文件将从光标所在位置处开始置入。

4. 为了确认文件已经提取成功，移动光标回到原来的位置就可以注意有两份第
五讲第三节，一份是原本，另外一份是来自文件的副本。

##打开类命令
输入 o 将在光标的下方打开新的一行并进入插入模式。
为了在光标 *上方* 打开新的一行，只需要输入大写的 O 而不是小写的 o
就可以了
##光标后插入类命令
 输入 `a` 将可在光标之后插入文本
 大写的 `A` 则可以直接在行
末插入文本
##另外一个置换类命令的版本
 输入大写的 R 可连续替换多个字符
 
##设置类命令的选项
设置可使查找或者替换可忽略大小写的选项
 
 1. 要查找单词 ignore 可在正常模式下输入 /ignore 。要重复查找该词，可以
重复按 n 键。
2. 然后设置 ic 选项(ic就是英文忽略大小写Ignore Case的首字母缩写词)，即
输入∶
:set ic
3. 现在可以通过键入 n 键再次查找单词 ignore。重复查找可以重复键入 n 键。
4. 然后设置 hlsearch 和 incsearch 这两个选项，输入以下内容∶
:set hls is
5. 现在可以再次输入查找命令，看看会有什么效果∶
/ignore

#第六讲在线帮助命令
** 使用在线帮助系统 **

Vim 拥有一个细致全面的在线帮助系统。要启动该帮助系统，请选择如下三种方
法之一∶
- 按下 <HELP> 键 (如果键盘上有的话)
- 按下 <F1> 键 (如果键盘上有的话)
- 输入 :help <回车>

输入 :q <回车> 可以关闭帮助窗口。

提供一个正确的参数给":help"命令，您可以找到关于该主题的帮助。请试验以
下参数(可别忘了按回车键哦。:)∶

:help w <回车>
:help c_<T <回车>
:help insert-index <回车>
:help user-manual <回车>

#第七讲创建一个启动脚本
** 启用vim的功能 **

Vim的功能特性要比vi多得多，但大部分功能都没有缺省激活。为了启动更多的功能，您得创建一个vimrc文件。

1. 开始编辑vimrc文件，这取决于您所使用的操作系统∶

:edit ~/.vimrc 这是Unix系统所使用的命令
:edit $VIM/_vimrc 这是Windows系统所使用的命令

2. 接着导入vimrc范例文件∶

:read $VIMRUNTIME/vimrc_example.vim

3. 保存文件，命令为∶

:write

在下次您启动vim的时候，编辑器就会有了语法高亮的功能。您可以继续把您喜欢的其它功能设置添加到这个vimrc文件中。

#结语
vim 教程到此结束。本教程只是为了简明地介绍一下vim编辑器，但已足以让您很容易学会使用本编辑器了。毋庸质疑，vim还有很多很多的命令，本教程所介绍的还差得远著呢。所以您要精通的话，还望继续努力哦。下一步您可以阅读
vim手册，使用的命令是∶
`:help user-manual`

为了更进一步的参考和学习，以下这本书值得推荐∶

>Vim - Vi Improved - 作者∶Steve Oualline
出版社∶New Riders

这是第一本完全讲解vim的书籍。对于初学者特别有用。其中还包含有大量实例和图示。欲知详情，请访问 http://iccf-holland.org/click5.html

以下这本书比较老了而且内容主要是vi而不是vim，但是也值得推荐∶

>Learning the Vi Editor - 作者∶Linda Lamb
出版社∶O'Reilly & Associates Inc.

这是一本不错的书，通过它您几乎能够了解到全部vi能够做到的事情。此书的第

六个版本也包含了一些关于vim的信息。

[简明 Vim 练级攻略](http://coolshell.cn/articles/5426.html)  
[vim 7.3配色](http://www.liveme.org/config-for-gvim73.html)  
[面向前端开发者的VIM配置](http://www.limboy.com/2009/05/30/vim-setting/)  
[超强vim配置工具](https://github.com/ma6174/vim)  
[让Vim(gvim)更好的支持javascript编程](http://www.vimer.cn/2010/04/%E8%AE%A9vimgvim%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%94%AF%E6%8C%81javascript%E7%BC%96%E7%A8%8B.html)  
[使用vim来编写javascript代码](http://www.cnblogs.com/orez88/articles/1457083.html)  
[打造自己的vim界面](http://www.cnblogs.com/ifys/archive/2010/10/24/1860610.html)  
[nerdtree的安装](http://www.cnblogs.com/feichexia/archive/2012/11/07/Vim_NerdTree.html)  
